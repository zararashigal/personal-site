                    /* Remove first element, useless :c */
                    res.shift();
                
                    /* Add node to the nodes table */
                    nodes.push(res);
 
                    /* Reloop until results are exhausted */
                    res = pNodes.exec(structure.nodes);
                
                } catch(_){}
 
            }
 
            /* Scan frames in the times structure */
            timesRaw = structure.times.split(/time\s*\d*/);
            
            /* For this we use a for loop uwu */
            for (let [i, value] of timesRaw.entries()) {
 
                /* Initialize table for the frame */
                times[i] = [];
 
                /* Scan each frame */
                res = pTimes.exec(value);
                
                /* Loop until exhausteeeed */
                while (res != null) {
 
                    /* Try catch so we dont get any errors. */
                    try {
                        
                        /* Add the bone to the frame in the time structure */
                        times[i].push(res);
 
                        /* Re loop until exhauuuusted */
                        res = pTimes.exec(value);
                
                    } catch(_){}
                
                }
 
            }
 
            /* Here, we generate teh e2!! */
            for (let [a, va] of times.entries()) {
                if (a != 0) {
                    smdo.value = smdo.value + `\n# time ${a}\n\n${anim}[${a}, table] = table()\n`
                    for (let [b, vb] of va.entries()) {
                        if (nodes[vb[1]][1].includes("ik_")){
                            smdo.value = smdo.value + 
`
# IK BONE FOUND... SKIPPING!!!
#${anim}[${a}, table][${b+1}, table] = table()
#${anim}[${a}, table][${b+1}, table][1, string] = \"${nodes[vb[1]][1]}\"
#${anim}[${a}, table][${b+1}, table][2, vector] = vec(${vb[2].replace(/\s/gm,", ")})
#${anim}[${a}, table][${b+1}, table][3, angle] = ang(${vb[3].replace(/\s/gm,", ")})
`; 
                        } else {
                            smdo.value = smdo.value + 
`
${anim}[${a}, table][${b+1}, table] = table()
${anim}[${a}, table][${b+1}, table][1, string] = \"${nodes[vb[1]][1]}\"
${anim}[${a}, table][${b+1}, table][2, vector] = vec(${vb[2].replace(/\s/gm,", ")})
${anim}[${a}, table][${b+1}, table][3, angle] = ang(${vb[3].replace(/\s/gm,", ")})
`; 
                        }
               
                    }
                }
            }
 
            /* Add end information to the e2 code */
            smdo.value = smdo.value + `\n\n# END PARSED SMD #\n# Parsed [${times.length - 1}] animation times for [${nodes.length - 1}] nodes. #\n`
            
            /* Copy to clipseyboard owo */
            smdo.select(); smdo.setSelectionRange(0,9e5); navigator.clipboard.writeText(smdo.value);
            
            /* I have been your humble host zarashigal, thank you for coming and dont get roasted on gmod pls thxthxhtxkthxbaiiiii */
 
        }
 
    </script>
 
    <h4>DISCLAIMER!!!<br />I have a job.<br/>This tool is provided as is.<br/>I am not held responsible if you get roasted on gmod servers;<br/>or if your house goes up in flames using this tool!!<br/>You choose your community, you know your community.</h4>
  
</body>
</html>